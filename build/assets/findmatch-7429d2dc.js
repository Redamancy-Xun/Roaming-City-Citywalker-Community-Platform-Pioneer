import{_ as w}from"./Back-31df5cd7.js";/* empty css                                                                   */import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{i as n,o as y,j as B,c as p,b as t,F as _,k as E,r as h,a as c,m as I,p as x,h as H}from"./index-c336339f.js";import{m as P}from"./match_card-c1eb484f.js";import{A as F}from"./Citywalker-5c40621a.js";import{u as L}from"./userStore-afec8895.js";import"./male-185579fc.js";const v=s=>(x("data-v-0b21b15d"),s=s(),H(),s),A=v(()=>t("img",{src:w},null,-1)),C=[A],M=v(()=>t("span",null,"找搭子",-1)),T={class:"image-container"},U={__name:"findmatch",setup(s){const f=L(),g=new F,r=n([]),i=n(1),o=n(!1),l=n(!0),k=()=>{h.back()},b=()=>{h.push("/initiateteam")},u=async()=>{if(!o.value&&l.value){o.value=!0;try{const e=await g.walkerTeam.showWalkerTeamUsingGet({orderByPopularity:!0,page:i.value,pageSize:7},{session:f.sessionId});e.data.result.items.length>0?(r.value.push(...e.data.result.items),i.value++):l.value=!1,console.log(e.data)}catch(e){console.error("获取帖子失败",e)}o.value=!1}},d=()=>{const e=window.scrollY,m=document.documentElement.clientHeight,a=document.documentElement.scrollHeight;e+m>=a-10&&!o.value&&u()};return y(()=>{window.addEventListener("scroll",d),u()}),B(()=>{window.removeEventListener("scroll",d)}),(e,m)=>(c(),p(_,null,[t("header",null,[t("div",{class:"back-icon",onClick:k},C),M,t("div",{class:"post-button",onClick:b}," 发起组队 ")]),t("main",null,[t("div",T,[(c(!0),p(_,null,E(r.value,a=>(c(),I(P,{key:a.id,post:a},null,8,["post"]))),128))])])],64))}},D=S(U,[["__scopeId","data-v-0b21b15d"]]);export{D as default};
