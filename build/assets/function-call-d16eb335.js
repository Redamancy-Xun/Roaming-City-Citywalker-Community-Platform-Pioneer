import{P as p,C as d,d as m,e as u,G as l}from"./index-c336339f.js";import{u as f,e as r,c as g,a as c,n as h,q as k,p as v,i as w,Q as y}from"./use-touch-78a9110c.js";import{p as P,P as S}from"./index-965c857b.js";function b(){const e=d({show:!1}),o=a=>{e.show=a},t=a=>{r(e,a,{transitionAppear:!0}),o(!0)},s=()=>o(!1);return f({open:t,close:s,toggle:o}),{open:t,close:s,state:e,toggle:o}}function C(e){const o=p(e),t=document.createElement("div");return document.body.appendChild(t),{instance:o.mount(t),unmount(){o.unmount(),document.body.removeChild(t)}}}const[N,O]=g("notify"),x=["lockScroll","position","show","teleport","zIndex"],I=r({},P,{type:c("danger"),color:String,message:h,position:c("top"),className:k,background:String,lockScroll:Boolean});var A=m({name:N,props:I,emits:["update:show"],setup(e,{emit:o,slots:t}){const s=a=>o("update:show",a);return()=>u(S,l({class:[O([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":s},v(e,x)),{default:()=>[t.default?t.default():e.message]})}});let i,n;const B=e=>y(e)?e:{message:e};function E(){({instance:n}=C({setup(){const{state:e,toggle:o}=b();return()=>u(A,l(e,{"onUpdate:show":o}),null)}}))}const T=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let U=T();const j=()=>{n&&n.toggle(!1)};function G(e){if(w)return n||E(),e=r({},U,B(e)),n.open(e),clearTimeout(i),e.duration>0&&(i=setTimeout(j,e.duration)),n}export{G as a,C as m,A as s,b as u};
