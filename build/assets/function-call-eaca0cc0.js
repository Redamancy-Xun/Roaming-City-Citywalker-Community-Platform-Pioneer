import{M as p,s as d,d as m,e as u,B as l}from"./index-7421df47.js";import{e as r,c as f,m as c,n as g,i as h,h as k,s as v,N as w}from"./index-dcd1bf9c.js";import{u as y}from"./use-touch-fbe6bb65.js";import{p as P,P as S}from"./index-05100a24.js";function b(){const o=d({show:!1}),e=s=>{o.show=s},t=s=>{r(o,s,{transitionAppear:!0}),e(!0)},a=()=>e(!1);return y({open:t,close:a,toggle:e}),{open:t,close:a,state:o,toggle:e}}function N(o){const e=p(o),t=document.createElement("div");return document.body.appendChild(t),{instance:e.mount(t),unmount(){e.unmount(),document.body.removeChild(t)}}}const[C,O]=f("notify"),x=["lockScroll","position","show","teleport","zIndex"],B=r({},P,{type:c("danger"),color:String,message:g,position:c("top"),className:h,background:String,lockScroll:Boolean});var I=m({name:C,props:B,emits:["update:show"],setup(o,{emit:e,slots:t}){const a=s=>e("update:show",s);return()=>u(S,l({class:[O([o.type]),o.className],style:{color:o.color,background:o.background},overlay:!1,duration:.2,"onUpdate:show":a},k(o,x)),{default:()=>[t.default?t.default():o.message]})}});let i,n;const A=o=>w(o)?o:{message:o};function E(){({instance:n}=N({setup(){const{state:o,toggle:e}=b();return()=>u(I,l(o,{"onUpdate:show":e}),null)}}))}const T=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let U=T();const j=()=>{n&&n.toggle(!1)};function _(o){if(v)return n||E(),o=r({},U,A(o)),n.open(o),clearTimeout(i),o.duration>0&&(i=setTimeout(j,o.duration)),n}export{_ as a,N as m,I as s,b as u};
